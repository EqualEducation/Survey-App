<template name="schools">
{{#autoForm collection="Schools" id="insertSchoolForm" type=autoformTypeForAddSchool doc=selectedSchoolDoc resetOnSuccess=false autosave=true}}
    <fieldset>
      <legend>Add a School</legend>
      {{#each afFieldNames name="schoolDetails"}}
        <div class="row">
            {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
          <br />
        </div>
      {{/each}}
    </fieldset>
      <button class="btn btn-primary btn-back">Back</button>
      <button type="submit" class="btn btn-primary btn-save">Save</button>
  {{/autoForm}}
</template>

<template name="school_selection">
  {{>search}}
</template>

<template name="search">
  <b>Search School:    </b>{{> esInput index="schools"}}
  <br />
  <table class="table">
    <thead>
      <tr>
        <th>Results</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#esEach index="schools"}}
      <tr>
        <td><a href="{{pathFor 'versions'}}" class="btn-edit">{{schoolDetails.INSTITUTION_NAME}}</a></td>
        <td><a href="" class="btn-delete">Delete</a></td>
      </tr>
      {{/esEach}}
    </tbody>
  </table>
  {{> esLoadMoreButton index="schools" }}

  {{#ifEsHasNoResults index="schools"}}
    <div class="no-results">No results found!</div>
  {{/ifEsHasNoResults}}

  {{#ifEsIsSearching index="schools"}}
    <div>Loading...</div>
  {{/ifEsIsSearching}}
</template>