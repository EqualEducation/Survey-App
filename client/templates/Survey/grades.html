<template name="survey2">
  {{setSelectedSurveyVersionDoc surveyVersionId }}
  {{setSelectedSchoolDoc schoolId}}
  {{setSelectedDoc surveyVersionId "grades"}}
  {{#autoForm collection="Grades" id="survey2" type=autoformType doc=selectedDoc resetOnSuccess=false autosave=true}}
    <legend>Grade Demographics</legend>
    <button class="btn btn-primary btn-back">Back</button>
    <button class="btn btn-primary btn-save">Save</button>
    <fieldset>
      <div class="row">
        {{> afQuickField name="totalTeachersInSchool" template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
        <br />
      </div>
      <div class="row">
        {{> afQuickField name="totalStudentsInSchool" template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
        <br />
      </div>

      {{#if isPrimarySchool}}
        <p>Please select a grade to update</p>
        {{> primaryschool_accordian}}
      {{else}}
        {{#if isSecondarySchool}}
          <p>Please select a grade to update</p>
          {{> highschool_accordian}}
        {{else}}
          {{> unknown_classification}}
        {{/if}}
      {{/if}}
    
      {{> afQuickField name="version_id"}}

        </fieldset>
   {{/autoForm}}
</template>

<template name="unknown_classification">
  {{surveyVersionId}}
  <b>You have not selected if this school is a primary or secondary school. Please return to <a href="{{pathFor 'surveySection' _schoolId= schoolId _versionId=surveyVersionId  _surveySection='survey8'}}">School Details</a> and update.</b>
  

</template>

<template name="primaryschool_accordian">
  <div class="accordion">
    <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-0">Grade R</a>
        <div id="accordion-0" class="accordion-section-content">
          {{#each afFieldNames name="gradeR"}}        
              <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-1">Grade 1</a>
        <div id="accordion-1" class="accordion-section-content">
          {{#each afFieldNames name="grade1"}}
              <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}        
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-2">Grade 2</a>
        <div id="accordion-2" class="accordion-section-content">
          {{#each afFieldNames name="grade2"}}
              <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}          
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-3">Grade 3</a>
        <div id="accordion-3" class="accordion-section-content">
          {{#each afFieldNames name="grade3"}}
            <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->        
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-4">Grade 4</a>
        <div id="accordion-4" class="accordion-section-content">
          {{#each afFieldNames name="grade4"}}
           <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-5">Grade 5</a>
        <div id="accordion-5" class="accordion-section-content">
          {{#each afFieldNames name="grade5"}}
            <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-6">Grade 6</a>
        <div id="accordion-6" class="accordion-section-content">
          {{#each afFieldNames name="grade6"}}
           <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-7">Grade 7</a>
        <div id="accordion-7" class="accordion-section-content">
          {{#each afFieldNames name="grade7"}}
           <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
      </div>
    </div><!--end .accordion-section-->            
</div><!--end .accordion-->
</template>

<template name="highschool_accordian">
  <div class="accordion">
    <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-0">Grade 8</a>
        <div id="accordion-0" class="accordion-section-content">
          {{#each afFieldNames name="grade8"}}
             <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-1">Grade 9</a>
        <div id="accordion-1" class="accordion-section-content">
          {{#each afFieldNames name="grade9"}}
            <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-2">Grade 10</a>
        <div id="accordion-2" class="accordion-section-content">
          {{#each afFieldNames name="grade10"}}
           <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-3">Grade 11</a>
        <div id="accordion-3" class="accordion-section-content">
          {{#each afFieldNames name="grade11"}}
            <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->        
     <div class="accordion-section">
        <a class="accordion-section-title" href="#accordion-4">Grade 12</a>
        <div id="accordion-4" class="accordion-section-content">
          {{#each afFieldNames name="grade12"}}
           <div class="row">   
                {{> afQuickField name=this.name template="bootstrap3-horizontal" label-class="col-xs-6" input-col-class="col-xs-6"}}
                <br />
              </div>
          {{/each}}  
        </div>
    </div><!--end .accordion-section-->
        
</div><!--end .accordion-->
</template>